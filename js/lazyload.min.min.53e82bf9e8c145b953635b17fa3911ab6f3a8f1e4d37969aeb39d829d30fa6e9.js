!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LazyLoad=e()}(this,function(){"use strict";function _(){return(_=Object.assign||function(s){for(var e,n,t=1;t<arguments.length;t++){e=arguments[t];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s}).apply(this,arguments)}var s="undefined"!=typeof window,K=s&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),U=s&&"IntersectionObserver"in window,V=s&&"classList"in document.createElement("p"),H=s&&window.devicePixelRatio>1,eo={elements_selector:".lazy",container:K||s?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},T=function(e){return _({},eo,e)},F=function(s,o){var e,t="LazyLoad::Initialized",n=new s(o);try{e=new CustomEvent(t,{detail:{instance:n}})}catch(s){(e=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,{instance:n})}window.dispatchEvent(e)},p="loading",M="loaded",A="applied",h="error",k="native",en="data-",et="ll-status",e=function(e,t){return e.getAttribute(en+t)},a=function(t){return e(t,et)},o=function(e,t){return function(e,s,t){var n="data-ll-status";null!==t?e.setAttribute(n,t):e.removeAttribute(n)}(e,0,t)},j=function(e){return o(e,null)},x=function(e){return null===a(e)},O=function(e){return a(e)===k},J=[p,M,A,h],n=function(e,t,n,s){e&&(void 0===s?void 0===n?e(t):e(t,n):e(t,n,s))},i=function(e,t){V?e.classList.add(t):e.className+=(e.className?" ":"")+t},l=function(e,t){V?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},E=function(e){return e.llTempImage},c=function(n,e){if(e){var t=e._observer;t&&t.unobserve(n)}},u=function(e,t){e&&(e.loadingCount+=t)},S=function(e,t){e&&(e.toLoadCount=t)},q=function(s){for(var e,t=[],n=0;e=s.children[n];n+=1)"SOURCE"===e.tagName&&t.push(e);return t},t=function(t,n,e){e&&t.setAttribute(n,e)},v=function(e,t){e.removeAttribute(t)},z=function(e){return!!e.llOriginalAttrs},D=function(e){if(!z(e)){var t={};t.src=e.getAttribute("src"),t.srcset=e.getAttribute("srcset"),t.sizes=e.getAttribute("sizes"),e.llOriginalAttrs=t}},N=function(e){if(z(e)){var n=e.llOriginalAttrs;t(e,"src",n.src),t(e,"srcset",n.srcset),t(e,"sizes",n.sizes)}},L=function(n,s){t(n,"sizes",e(n,s.data_sizes)),t(n,"srcset",e(n,s.data_srcset)),t(n,"src",e(n,s.data_src))},R=function(e){v(e,"src"),v(e,"srcset"),v(e,"sizes")},d=function(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&q(e).forEach(n)},Z={IMG:function(e,t){d(e,function(e){D(e),L(e,t)}),D(e),L(e,t)},IFRAME:function(n,s){t(n,"src",e(n,s.data_src))},VIDEO:function(n,s){!function(n){q(n).forEach(function(n){t(n,"src",e(n,s.data_src))})}(n),t(n,"poster",e(n,s.data_poster)),t(n,"src",e(n,s.data_src)),n.load()}},I=function(e,n){var t=Z[e.tagName];t&&t(e,n)},B=function(e,t,s){u(s,1),i(e,t.class_loading),o(e,p),n(t.callback_loading,e,s)},Q=["IMG","IFRAME","VIDEO"],$=function(t,e){!e||function(e){return e.loadingCount>0}(e)||function(e){return e.toLoadCount>0}(e)||n(t.callback_finish,e)},W=function(e,t,n){e.addEventListener(t,n),e.llEvLisnrs[t]=n},G=function(e,t,n){e.removeEventListener(t,n)},b=function(e){return!!e.llEvLisnrs},y=function(e){if(b(e)){var n,s,t=e.llEvLisnrs;for(n in t)s=t[n],G(e,n,s);delete e.llEvLisnrs}},Y=function(e,n,t){!function(e){delete e.llTempImage}(e),u(t,-1),function(e){e&&(e.toLoadCount-=1)}(t),l(e,n.class_loading),n.unobserve_completed&&c(e,t)},g=function(e,s,a){var t=E(e)||e;b(t)||function(e,t,n){b(e)||(e.llEvLisnrs={});var s="VIDEO"===e.tagName?"loadeddata":"load";W(e,s,t),W(e,"error",n)}(t,function(){!function(r,e,t,s){var a=O(e);Y(e,t,s),i(e,t.class_loaded),o(e,M),n(t.callback_loaded,e,s),a||$(t,s)}(0,e,s,a),y(t)},function(){!function(r,e,t,s){var a=O(e);Y(e,t,s),i(e,t.class_error),o(e,h),n(t.callback_error,e,s),a||$(t,s)}(0,e,s,a),y(t)})},X=function(t,s,a){!function(e){e.llTempImage=document.createElement("IMG")}(t),g(t,s,a),function(t,n,i){var a=e(t,n.data_bg),o=e(t,n.data_bg_hidpi),s=H&&o?o:a;s&&(t.style.backgroundImage='url("'.concat(s,'")'),E(t).setAttribute("src",s),B(t,n,i))}(t,s,a),function(t,s,l){var d=e(t,s.data_bg_multi),a=e(t,s.data_bg_multi_hidpi),r=H&&a?a:d;r&&(t.style.backgroundImage=r,function(e,t,s){i(e,t.class_applied),o(e,A),t.unobserve_completed&&c(e,t),n(t.callback_applied,e,s)}(t,s,l))}(t,s,a)},m=function(e,t,n){(function(e){return Q.indexOf(e.tagName)>-1})(e)?function(e,t,n){g(e,t,n),I(e,t),B(e,t,n)}(e,t,n):X(e,t,n)},ei=["IMG","IFRAME","VIDEO"],w=function(e){return e.use_native&&"loading"in HTMLImageElement.prototype},ee=function(s,e,t){s.forEach(function(s){return function(e){return e.isIntersecting||e.intersectionRatio>0}(s)?function(e,r,t,s){var d=function(e){return J.indexOf(a(e))>=0}(e);o(e,"entered"),i(e,t.class_entered),l(e,t.class_exited),function(e,t,n){t.unobserve_entered&&c(e,n)}(e,t,s),n(t.callback_enter,e,r,s),d||m(e,t,s)}(s.target,s,e,t):function(e,s,t,o){x(e)||(i(e,t.class_exited),function(e,o,t,s){t.cancel_on_exit&&function(e){return a(e)===p}(e)&&"IMG"===e.tagName&&(y(e),function(e){d(e,function(e){R(e)}),R(e)}(e),function(e){d(e,function(e){N(e)}),N(e)}(e),l(e,t.class_loading),u(s,-1),j(e),n(t.callback_cancel,e,o,s))}(e,s,t,o),n(t.callback_exit,e,s,o))}(s.target,s,e,t)})},C=function(e){return Array.prototype.slice.call(e)},f=function(e){return e.container.querySelectorAll(e.elements_selector)},es=function(e){return function(e){return a(e)===h}(e)},P=function(e,t){return function(e){return C(e).filter(x)}(e||f(t))},r=function(t,n){var e=T(t);this._settings=e,this.loadingCount=0,function(e,t){U&&!w(e)&&(t._observer=new IntersectionObserver(function(n){ee(n,e,t)},function(e){return{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}}(e)))}(e,this),function(e,t){s&&window.addEventListener("online",function(){!function(e,n){var t;(t=f(e),C(t).filter(es)).forEach(function(t){l(t,e.class_error),j(t)}),n.update()}(e,t)})}(e,this),this.update(n)};return r.prototype={update:function(i){var n,s,t=this._settings,e=P(i,t);S(this,e.length),!K&&U?w(t)?function(t,n,e){t.forEach(function(t){-1!==ei.indexOf(t.tagName)&&function(e,t,n){e.setAttribute("loading","lazy"),g(e,t,n),I(e,t),o(e,k)}(t,n,e)}),S(e,0)}(e,t,this):(s=e,function(e){e.disconnect()}(n=this._observer),function(e,t){t.forEach(function(t){e.observe(t)})}(n,s)):this.loadAll(e)},destroy:function(){this._observer&&this._observer.disconnect(),f(this._settings).forEach(function(e){delete e.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(n){var e=this,t=this._settings;P(n,t).forEach(function(n){c(n,e),m(n,t,e)})}},r.load=function(e,t){var n=T(t);m(e,n)},r.resetStatus=function(e){j(e)},s&&function(t,e){if(e)if(e.length)for(var n,s=0;n=e[s];s+=1)F(t,n);else F(t,e)}(r,window.lazyLoadOptions),r})